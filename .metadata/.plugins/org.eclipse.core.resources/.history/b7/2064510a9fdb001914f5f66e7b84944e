package com.service;




import org.springframework.boot.CommandLineRunner;
import org.springframework.stereotype.Component;

import com.google.api.client.http.HttpHeaders;
import com.mashape.unirest.http.HttpResponse;
import com.mashape.unirest.http.JsonNode;
import com.mashape.unirest.http.Unirest;
import com.mashape.unirest.request.HttpRequestWithBody;
import com.model.MailModel;
@Component
public class MailService  implements CommandLineRunner
{
	
	
	MailModel mail ;
	String url = "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCArRe0FxKm4mk4fandJSNhJ3L8te8Ka1Y";
	String body;
	
	public void initLogin() 
	{
		

		mail = new MailModel();
		mail.setName("adebayogboyega@yahoo.com");
		mail.setPassword("longman");
		mail.setToken(true);	
		body = "{"+"email"+":"+mail.getName()+","+"password"+mail.getPassword()+","+"returnToken"+":true}";
	}
	
	public  void loginClient()
	
	{
		try {
	            	HttpResponse<JsonNode> jsonResponse  = Unirest.post(url)
				                                 .header("Content-Type","application/json").body(body).asJson();
		
		               int status= jsonResponse.getStatus();
		               System.out.println(""+status);
		               System.out.println("I was here");
		        
		}
		catch(Exception e) {
			System.out.println(e.getMessage());
		}
	}

	@Override
	public void run(String... args) throws Exception {
		// TODO Auto-generated method stub
		loginClient();
		
	}

	

}
